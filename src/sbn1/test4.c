// SBN1 protocal test 2
// read devices

#include "sys.h"

int main(void)
{
	uint8_t i;
	printf("SBN1 test 4 \r\n");

	// read single from 0xAB
	Fill_Buffer(0x0A, 0x53, 0x42, 0x4E, 0x31, 0x00, 0x03, 0xB1, 0x05, 0xAB, 0x01);
	SBN1_USART_Handle_Reveived();

	// read contineous from 0xAC
	Fill_Buffer(0x0A, 0x53, 0x42, 0x4E, 0x31, 0x01, 0x03, 0xB3, 0x05, 0xAC, 0x02);
	SBN1_USART_Handle_Reveived();

	for(i = 0x00; i < 0x05; i++)
	{
		SBN1_Loop();
	}

	// stop read 0xAC
	Fill_Buffer(0x0A, 0x53, 0x42, 0x4E, 0x31, 0x02, 0x03, 0xB4, 0x05, 0xAC, 0x03);
	SBN1_USART_Handle_Reveived();

	for(i = 0x00; i < 0x05; i++)
	{
		SBN1_Loop();
	}

	return 0;
}
